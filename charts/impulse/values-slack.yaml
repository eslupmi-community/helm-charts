# Example values for Slack configuration
# Copy this file and modify as needed, then use: helm install impulse . -f values-slack.yaml

image:
  repository: ghcr.io/eslupmi/impulse
  tag: ""  # If empty, will use .Chart.AppVersion

# Slack configuration
impulseConfig:
  messenger:
    type: "slack"
    admin_users: ["admin_user"]
    users:
      admin_user:
        id: "U1234567890"
    channels:
      incidents_default:
        id: "C1234567890"
    chains:
      default:
        - user: "admin_user"
          wait: "10m"
  
  incident:
    notifications:
      new_firing: true
      partial_resolved: true
      status_update: true
    timeouts:
      firing: "6h"
      unknown: "6h"
      resolved: "12h"
  
  route:
    channel: "incidents_default"
  
  ui:
    columns:
      - name: status
        header: Status
        visible: false
        value: incident.status
      - name: created
        type: datetime
        header: Created
        value: incident.created
      - name: alertname
        header: Alertname
        type: link
        url: incident.link
        value: payload.commonLabels.alertname
      - name: service
        header: Service
        value: payload.commonLabels.service
      - name: severity
        header: Severity
        value: payload.commonLabels.severity
    sorting:
      - severity: desc
        order: ["info", "warning", "critical"]
      - created: desc
    colors:
      severity:
        critical: "#FF0000"
        warning: "#FFA500"
        info: "#00FF00"

# Slack secrets (replace with your actual tokens)
secrets:
  # Option 1: Use existing secrets (recommended for production)
  # existing:
  #   slack:
  #     secretName: "my-slack-secrets"
  #     botUserOauthTokenKey: "bot-token"
  #     verificationTokenKey: "verification-token"
  
  # Option 2: Inline secrets (for development/testing)
  # Leave empty if using existing secrets above
  inline:
    slack:
      botUserOauthToken: "xoxb-your-slack-bot-token"
      verificationToken: "your-slack-verification-token"

# Service configuration
service:
  type: ClusterIP
  port: 5000

# Resource limits
resources:
  limits:
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Persistence
persistence:
  enabled: true
  size: 1Gi
